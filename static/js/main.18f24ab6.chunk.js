(this["webpackJsonpsmart-cards"]=this["webpackJsonpsmart-cards"]||[]).push([[0],{256:function(e,t,a){e.exports={loginBlock:"LoginForm_loginBlock__3Hd_A",inputBlock:"LoginForm_inputBlock__xysX4",checkboxBlock:"LoginForm_checkboxBlock__1tfzN",link:"LoginForm_link__FsZ_X"}},257:function(e,t,a){e.exports={optionInput:"Checkbox_optionInput__15dEI","click-wave":"Checkbox_click-wave__3HESl",radio:"Checkbox_radio__2A7Gv"}},26:function(e,t,a){e.exports={nav:"Header_nav__3TPoP",menu:"Header_menu__65jxK",button:"Header_button__287bi",item:"Header_item__2qKv2",activeLick:"Header_activeLick__1cFc1"}},364:function(e,t,a){e.exports={loader:"Preloader_loader__2pNSR"}},365:function(e,t,a){e.exports=a.p+"static/media/loader.b31e4952.svg"},366:function(e,t,a){e.exports={container:"Profile_container__1VY1m"}},370:function(e,t,a){e.exports=a.p+"static/media/Spin-1s.62e138ae.svg"},371:function(e,t,a){e.exports={bodyTable:"PacksPage_bodyTable__1mOYh"}},373:function(e,t,a){e.exports={buttonContainer:"Cards_buttonContainer__2Bv5V"}},374:function(e,t,a){e.exports={container:"Slider_container__31_Pu"}},375:function(e,t,a){e.exports={cardBody:"LearnPage_cardBody__3eKOg"}},376:function(e,t,a){e.exports={cardBody:"SelectedCardContainer_cardBody__1DSFo"}},377:function(e,t,a){},388:function(e,t,a){e.exports=a(472)},393:function(e,t,a){},394:function(e,t,a){},472:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(17),i=a.n(c),o=(a(393),a(394),a(26)),l=a.n(o),d=a(29),u=a(28),s=a(15),m=a(16),f=a(65),p=a.n(f),E="https://neko-back.herokuapp.com/2.0",b=p.a.create({baseURL:E,withCredentials:!0}),v=function(e){return b.post("auth/login",e)},h=function(){return b.delete("auth/me")},g=function(){return b.post("auth/me")},_={user:{},isLoggedIn:!1,error:null},k=function(e){return{type:"login/SET_IS_LOGGED_IN",value:e}},C=function(e){return{type:"login/SET_USER",user:e}},w=function(e){return{type:"login/SET-ERROR",error:e}},y={status:"idle",error:null,isInitialized:!1},O=function(e){return{type:"APP/SET-STATUS",status:e}},A=a(364),P=a.n(A),j=a(365),S=a.n(j),T=function(e){return r.a.createElement("div",{className:P.a.loader},r.a.createElement("img",{src:S.a}))},R=a(366),N=a.n(R),F=r.a.memo((function(){var e=Object(s.d)((function(e){return e.auth.isLoggedIn})),t=Object(s.d)((function(e){return e.app.status})),a=Object(s.d)((function(e){return e.auth.user})),c=Object(s.c)();return Object(n.useEffect)((function(){a._id&&e||c((function(e){e(O("loading")),g().then((function(t){t.data?(e(C(t.data)),e(k(!0)),e(O("succeeded"))):(e(k(!1)),e(O("succeeded"))),e({type:"APP/SET-IS-INITIALIZED",isInitialized:!0}),e(O("succeeded"))})).catch((function(){e(O("succeeded"))}))}))}),[c]),"idle"===t||"loading"===t?r.a.createElement("div",null,r.a.createElement(T,null)):e?r.a.createElement("div",{className:N.a.container},r.a.createElement("h1",null,"Profile"),r.a.createElement("div",null,"email: ",a.email," "),r.a.createElement("div",null,"token: ",a.token),r.a.createElement("div",null,"publicCardPacksCount: ",a.publicCardPacksCount)):r.a.createElement(u.a,{to:"/login"})})),L=a(97),I=a(492),D=a(245),x=a(326),U=a(327),V=a(328),M=a(358),B=a(329),Z=a(256),q=a.n(Z),G=r.a.memo((function(){var e=Object(s.d)((function(e){return e.auth.error})),t=Object(s.d)((function(e){return e.app.status})),a=Object(s.d)((function(e){return e.auth.isLoggedIn})),n=Object(s.c)(),c=Object(L.a)({initialValues:{email:"",password:"",rememberMe:!1},validate:function(e){var t={};return e.password?e.password.length<=6&&(t.password="password must be more than 6 characters"):t.password="Required",e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required",t},onSubmit:function(e){var t;n((t=e,function(e){e(O("loading")),v(t).then((function(t){t.data?(e(C(t.data)),e(k(!0)),e(O("succeeded"))):(e(w("error")),e(O("succeeded")))})).catch((function(t){e(w(t.response?t.response.data.error:t.message+", more details in the console")),e(O("succeeded"))}))}))}});return"loading"===t?r.a.createElement(T,null):a?r.a.createElement(u.a,{to:"/"}):r.a.createElement(I.a,{container:!0,justify:"center"},r.a.createElement(I.a,{item:!0,xs:4},e&&r.a.createElement("div",{style:{color:"red"}},e.toString()),r.a.createElement("form",{onSubmit:c.handleSubmit},r.a.createElement(D.a,null,r.a.createElement(x.a,null,r.a.createElement(U.a,Object.assign({label:"Email",margin:"normal"},c.getFieldProps("email"))),c.errors.email?r.a.createElement("div",{style:{color:"red"}},c.errors.email):null,r.a.createElement(U.a,Object.assign({type:"password",label:"Password",margin:"normal"},c.getFieldProps("password"))),c.errors.password?r.a.createElement("div",{style:{color:"red"}},c.errors.password):null,r.a.createElement(V.a,{label:"Remember me",control:r.a.createElement(M.a,Object.assign({},c.getFieldProps("rememberMe"),{checked:c.values.rememberMe}))}),r.a.createElement(B.a,{type:"submit",variant:"contained",color:"primary"},"Login")))),r.a.createElement("div",{className:q.a.link},r.a.createElement(d.b,{to:wt,activeClassName:l.a.activeLick},"fogot fassword?")),r.a.createElement("div",{className:q.a.link},r.a.createElement(d.b,{to:Ct,activeClassName:l.a.activeLick},"register"))))})),H=r.a.memo((function(){return r.a.createElement("div",null,r.a.createElement(G,null))})),K=r.a.memo((function(){return r.a.createElement("div",null,r.a.createElement(H,null))})),Q=r.a.memo((function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Login"),r.a.createElement(K,null))})),$=p.a.create({baseURL:"http://localhost:7542/2.0/",withCredentials:!0}),z=function(e,t){return $.post("auth/register",{email:e,password:t})},W={isRegistered:!1,isError:!1,isFetching:!1},X=function(e){return{type:"SET_FETCHING",isFetching:e}},J=a(370),Y=a.n(J),ee=function(){return r.a.createElement("div",null,r.a.createElement("img",{src:Y.a,alt:"preloader"}))},te=function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required",e.password?e.password.length<=3?t.password="Must be at least 3 characters":e.password.length>100&&(t.password="Must be not more than 100 characters"):t.password="Required",t},ae=r.a.memo((function(){var e=Object(s.c)(),t=Object(s.d)((function(e){return e.registration.isError})),a=Object(s.d)((function(e){return e.registration.isRegistered})),n=Object(s.d)((function(e){return e.registration.isFetching})),c=Object(L.a)({initialValues:{email:"",password:""},validate:te,onSubmit:function(t){var a=t.email,n=t.password;e(function(e,t){return function(a){a(X(!0)),z(e,t).then((function(e){a({type:"REGISTER",isRegistered:!0}),a(X(!1))})).catch((function(e){a({type:"SET_ERROR",isError:!0}),a(X(!1))}))}}(a,n))}});return!n||a||t?t&&!n?r.a.createElement("div",null,"Error!"):a&&!n?r.a.createElement(u.a,{to:"login"}):r.a.createElement("div",null,r.a.createElement("h1",null,"Registration"),r.a.createElement("form",{onSubmit:c.handleSubmit},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("input",{id:"email",name:"email",type:"email",onChange:c.handleChange,onBlur:c.handleBlur,value:c.values.email})," ",r.a.createElement("label",{htmlFor:"email"},"Email Address"),c.touched.email&&c.errors.email?r.a.createElement("div",null,c.errors.email):null),r.a.createElement("li",null,r.a.createElement("input",{id:"password",name:"password",type:"password",onChange:c.handleChange,onBlur:c.handleBlur,value:c.values.password})," ",r.a.createElement("label",{htmlFor:"password"},"Password"),c.touched.password&&c.errors.password?r.a.createElement("div",null,c.errors.password):null)),r.a.createElement("button",{type:"submit",disabled:!!n},"Submit"))):r.a.createElement(ee,null)})),ne=p.a.create({baseURL:E,withCredentials:!0}),re=function(e){return ne.post("auth/forgot",{email:e,from:"test-front-admin <ai73a@yandex.by>",message:"<div style=\"background-color: lime; padding: 15px\">\n                     password recovery link: <a href='http://localhost:3000/#/set-new-password/$token$'>\n                     link</a></div>"})},ce="recover-password/SET_ACCEPTED",ie={isAccepted:!1,isError:!1,isFetching:!1},oe=function(e){return{type:"recover-password/SET_FETCHING",isFetching:e}},le=function(e){return function(t){t(oe(!0)),re(e).then((function(e){t({type:ce,isAccepted:!0}),t(oe(!1))})).catch((function(e){t({type:"recover-password/SET_ERROR",isError:!0}),t(oe(!1))}))}},de=function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required",t},ue=Object(n.memo)((function(){var e=Object(s.c)(),t=Object(s.d)((function(e){return e.recoverPassword.isError})),a=Object(s.d)((function(e){return e.recoverPassword.isFetching})),n=Object(s.d)((function(e){return e.recoverPassword.isAccepted})),c=Object(L.a)({initialValues:{email:""},validate:de,onSubmit:function(t){var a=t.email;e(le(a))}});return!a||n||t?t&&!a?r.a.createElement("div",null,"Error!"):n&&!a?r.a.createElement(u.a,{to:"newPass"}):r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Recover Password"),r.a.createElement("form",{onSubmit:c.handleSubmit},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("input",{id:"email",name:"email",type:"email",onChange:c.handleChange,onBlur:c.handleBlur,value:c.values.email})," ",r.a.createElement("label",{htmlFor:"email"},"Email Address"),c.touched.email&&c.errors.email?r.a.createElement("div",null,c.errors.email):null)),r.a.createElement("button",{type:"submit",disabled:!!a},"Submit"))):r.a.createElement(ee,null)})),se=r.a.memo((function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"NewPassword"))})),me=a(371),fe=a.n(me),pe=a(258),Ee=p.a.create({baseURL:E,withCredentials:!0}),be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;return Ee.get("cards/pack?pageCount=".concat(e),{params:{x:1}}).then((function(e){return e.data.cardPacks}))},ve=function(e){return Ee.post("cards/pack",{cardsPack:e}).then((function(e){return e.data.newCardsPack}))},he=function(e){return Ee.delete("cards/pack?id=".concat(e)).then((function(e){return e.data.deletedCardsPack}))},ge=function(e){return Ee.put("cards/pack",{cardsPack:e}).then((function(e){return e.data}))},_e={cardPacks:[{cardsCount:0,created:"2020-10-27T11:12:49.486Z",grade:0,more_id:"5f8db2d0842c1e00044adcdf",name:"new pack",path:"/def",private:!1,rating:0,shots:0,type:"pack",updated:"2020-10-27T11:12:49.486Z",user_id:"5f8db2d0842c1e00044adcdf",user_name:"konstantinkspb@gmail.com",__v:0,_id:"5f9800b17247822b58a8cad1"},{cardsCount:0,created:"2020-10-27T11:12:47.033Z",grade:0,more_id:"5f8db2d0842c1e00044adcdf",name:"new pack",path:"/def",private:!1,rating:0,shots:0,type:"pack",updated:"2020-10-27T11:12:47.033Z",user_id:"5f8db2d0842c1e00044adcdf",user_name:"konstantinkspb@gmail.com",__v:0,_id:"5f9800af7247822b58a8cad0"},{cardsCount:0,created:"2020-10-27T11:12:44.512Z",grade:0,more_id:"5f8db2d0842c1e00044adcdf",name:"new pack",path:"/def",private:!1,rating:0,shots:0,type:"pack",updated:"2020-10-27T11:12:44.512Z",user_id:"5f8db2d0842c1e00044adcdf",user_name:"konstantinkspb@gmail.com",__v:0,_id:"5f9800ac7247822b58a8cacf"},{cardsCount:0,created:"2020-10-26T23:11:54.501Z",deckCover:"",grade:0,more_id:"5eecf82a3ed8f700042f1186",name:"update new pack 2.0",path:"/def",private:!1,rating:0,shots:0,type:"pack",updated:"2020-10-26T23:12:06.637Z",user_id:"5eecf82a3ed8f700042f1186",user_name:"nya",__v:0,_id:"5f9757ba080b9c0004e8c78b"},{cardsCount:0,created:"2020-10-26T22:57:27.964Z",deckCover:null,grade:0,more_id:"5f8aed62122a4300049db62a",name:"new checked name",path:"/def",private:!1,rating:0,shots:0,type:"pack",updated:"2020-10-26T22:57:30.609Z",user_id:"5f8aed62122a4300049db62a",user_name:"alexeisamuta@gmail.com",__v:0,_id:"5f975457080b9c0004e8c78a"},{cardsCount:0,created:"2020-10-26T20:31:43.957Z",grade:0,more_id:"5f8a1b993a8b540004322cc8",name:"no Name",path:"/def",private:!1,rating:0,shots:0,type:"pack",updated:"2020-10-26T20:31:43.957Z",user_id:"5f8a1b993a8b540004322cc8",user_name:"kachanovski03@gmail.com",__v:0,_id:"5f97322f080b9c0004e8c770"},{cardsCount:0,created:"2020-10-23T17:09:47.044Z",grade:0,more_id:"5f6756d7b7d4170004385d85",name:"2",path:"/def",private:!1,rating:0,shots:0,type:"pack",updated:"2020-10-23T17:09:47.044Z",user_id:"5f6756d7b7d4170004385d85",user_name:"Vik",__v:0,_id:"5f930e5b5cea1f1aa027b9ea"}],cardPacksTotalCount:693,maxCardsCount:16,minCardsCount:0,page:1,pageCount:100,token:"fac9dcd0-1847-11eb-8597-0b97c01a13e4",tokenDeathTime:1603809099421,currentModal:"",currentPackValues:{id:"",name:""}},ke=function(e){return function(t){t(function(e){return{type:"SET_MODAL",modal:e}}(e))}},Ce=a(149),we=a.n(Ce),ye=a(111),Oe=a(345),Ae=a(346),Pe=a(216),je=a(485),Se=a(383),Te=Object(Oe.a)((function(e){return Object(Ae.a)({modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}})})),Re=function(e){var t=e.showModal,a=e.heading,c=e.callback,i=e.fields,o=(e.isClientError,e.isEditFields),l=(e.isServerError,e.packId),d={};i.forEach((function(e){var t=e.title,a=e.value;return d[t]=a}));var u=Object(L.a)({initialValues:d,onSubmit:function(e){console.log(e),c&&(l?c(l,e):e?c(e):c())}}),s=Te(),m=Object(n.useState)(t),f=Object(ye.a)(m,2),p=f[0],E=f[1],b=function(){E(!1)};return r.a.createElement(Pe.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:s.modal,open:p,onClose:b,closeAfterTransition:!0,BackdropComponent:je.a,BackdropProps:{timeout:500}},r.a.createElement(Se.a,{in:p},r.a.createElement("div",{className:s.paper},r.a.createElement("h2",{id:"transition-modal-title"},a),o?r.a.createElement("form",{onSubmit:u.handleSubmit},i.map((function(e){var t=e.title;e.value;return r.a.createElement("p",null,r.a.createElement("span",null,t)," ",r.a.createElement("textarea",{id:t,name:t,value:u.values[t],onChange:u.handleChange}))})),r.a.createElement("button",{type:"submit",onClick:b},"Save")):i.map((function(e){var t=e.title,a=e.value;return r.a.createElement("p",null,r.a.createElement("span",null,t)," ",a)})))))},Ne=function(e){var t,a=e.packs,n=e.addPack,c=e.deletePack,i=e.goToCards,o=e.updatePacks,l=e.onAddPackHandler,d=e.onUpdatePackHandler,u=e.showLearnCard,m=Object(s.d)((function(e){return e.packs.currentModal})),f=Object(s.d)((function(e){return e.packs.currentPackValues}));switch(m){case"add":t=r.a.createElement(Re,{heading:"Add new pack",fields:[{title:"Name"}],showModal:!0,isEditFields:!0,callback:function(e){return n({name:e.Name})}});break;case"delete":t=r.a.createElement(Re,{heading:"Delete card",fields:[{title:"Are you sure?"}],showModal:!0,isEditFields:!1});break;case"error":t=r.a.createElement(Re,{heading:"Error!",fields:[{title:"Error!"}],showModal:!0,isEditFields:!1});break;case"update":t=r.a.createElement(Re,{heading:"Update card",fields:[{title:"Name",value:f.name}],packId:f.id,showModal:!0,isEditFields:!0,callback:function(e,t){return o({_id:e,name:t.Name})}});break;default:t=""}return r.a.createElement(r.a.Fragment,null,t,r.a.createElement(we.a,{title:"CardPacks",columns:[{title:"Name",field:"name",headerStyle:{width:"10%"},cellStyle:{width:"10%"}},{title:"CardsCount",field:"cardsCount",type:"numeric",headerStyle:{textAlign:"center",width:"30%"},cellStyle:{textAlign:"center",width:"20%"}},{title:"Updated",field:"updated",headerStyle:{textAlign:"center",width:"30%"},cellStyle:{textAlign:"center",width:"30%"}},{title:"Url",field:"url",type:"numeric",headerStyle:{textAlign:"center",width:"30%"},cellStyle:{textAlign:"center",width:"30%"}}],data:a,actions:[{icon:"storage",tooltip:"Learn Card",onClick:function(e,t){u(t)}},{icon:"add",tooltip:"Add Pack",isFreeAction:!0,onClick:function(e){return l()}},{icon:"create",tooltip:"Update pack",onClick:function(e,t){d(t)}},{icon:"forum",tooltip:"Cards",onClick:function(e,t){i(t)}},{icon:"delete",tooltip:"Delete pack",onClick:function(e,t){c(t)}}],options:{headerStyle:{backgroundColor:"#01579b",color:"#FFF"},actionsColumnIndex:-1},style:{width:"95%",margin:"20px auto"}}))},Fe=a(257),Le=a.n(Fe),Ie=r.a.memo((function(e){return r.a.createElement("div",null,r.a.createElement("input",{type:"checkbox",className:"".concat(Le.a.optionInput," ").concat(Le.a.radio),checked:e.checkboxValue,onChange:function(t){e.changeValue(t.currentTarget.checked)}}))})),De=function(){var e=Object(s.d)((function(e){return e.packs.cardPacks})),t=Object(s.c)(),a=Object(u.f)();Object(n.useEffect)((function(){t((function(e){be().then((function(t){e({type:"SET_PACKS",packs:t})})).catch((function(){return console.log("error")}))}))}),[t]);var c=Object(n.useCallback)((function(e){!Array.isArray(e)&&a.push(Ot+"/"+e._id)}),[]),i=Object(n.useCallback)((function(e){!Array.isArray(e)&&a.push(yt+"/"+e._id)}),[]);return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(Ie,{checkboxValue:!0,changeValue:function(e){return console.log(e)}}),"My Packs"),r.a.createElement(Ne,{packs:e,addPack:function(e){var a;t((a=e,function(e){ve(a).then((function(t){e({type:"ADD_PACK",pack:t})})).catch((function(){return console.log("error")}))})),t(ke(""))},deletePack:function(e){var a;Array.isArray(e)||t((a=e._id,function(e){he(a).then((function(){e(function(e){return{type:"DELETE_PACK",id:e}}(a))})).catch((function(){return console.log("delete error")}))}))},goToCards:i,updatePacks:function(e){var a;t((a=e,function(e){ge(a).then((function(){var t,n;e((t=a._id,n=a.name,{type:"UPDATE_PACK",id:t,name:n}))})).catch((function(){return console.log("update error")}))}))},onAddPackHandler:function(){t(ke("add"))},onUpdatePackHandler:function(e){var a;Array.isArray(e)||(t(ke("update")),t((a={id:e._id,name:e.name},function(e){e(function(e){return{type:"SET_CURRENT_PACK_VALUES",payload:e}}(a))})))},showLearnCard:c}))},xe=function(){return r.a.createElement("div",null,r.a.createElement("div",null,"PacksPage"),r.a.createElement("div",{className:fe.a.bodyTable},r.a.createElement(De,null)))},Ue=a(373),Ve=a.n(Ue),Me=p.a.create({baseURL:E,withCredentials:!0}),Be=function(e,t,a,n,r,c,i,o,l){return Me.get("cards/card",{params:{cardsPack_id:e,cardAnswer:t,cardQuestion:a,min:n,max:r,shortCards:c,grade:i,page:o,pageCount:l}})},Ze=function(e,t,a,n,r,c,i,o,l,d,u){return Me.post("cards/card",{card:{cardsPack_id:e,question:t,answer:a,grade:n,shots:r,rating:c,answerImg:i,questionImg:o,questionVideo:l,answerVideo:d,type:u}})},qe=function(e){return Me.delete("cards/card",{params:{id:e}})},Ge=function(e,t,a,n,r,c,i,o,l,d,u,s){return Me.put("cards/card",{card:{_id:e,question:t,answer:a,grade:n,shots:r,rating:c,answerImg:i,questionImg:o,questionVideo:l,answerVideo:d,type:u,comments:s}})},He={isError:!1,isFetching:!1,cardsPack_id:"",cards:[{_id:"",cardsPack_id:"",user_id:"",answer:"",question:"",grade:0,shots:0,comments:"",type:"",rating:0,more_id:"",created:"",updated:"",__v:0}],currentModal:"",currentCardValues:{id:"",question:"",answer:""}},Ke=function(e){return{type:"SET_ERROR",isError:e}},Qe=function(e){return{type:"SET_FETCHING",isFetching:e}},$e=function(e,t,a,n,r,c,i,o,l){return function(d){d(Qe(!0)),Be(e,t,a,n,r,c,i,o,l).then((function(e){d({type:"SET_CARDS",cards:e.data.cards}),d(Qe(!1))})).catch((function(e){d(Ke(!0)),d(Qe(!1))}))}},ze=function(e){return function(t){t(function(e){return{type:"SET_MODAL",modal:e}}(e))}},We=function(){Ve.a.buttonContainer;var e,t=Object(s.d)((function(e){return e.cards.cards})),a=Object(s.d)((function(e){return e.cards.cardsPack_id})),c=Object(s.d)((function(e){return e.cards.currentModal})),i=Object(s.d)((function(e){return e.cards.currentCardValues})),o=Object(s.c)(),l=Object(u.f)().location.pathname.substring(7);o((e=l,function(t){t({type:"SET_CARDS_PACK_ID",id:e})}));var d=function(e,t,a,n,r,c,i,l,d,u,s){o(function(e,t,a,n,r,c,i,o,l,d,u){return function(s,m){s(Qe(!0)),Ze(e,t,a,n,r,c,i,o,l,d,u).then((function(e){s($e(m().cards.cardsPack_id,void 0,void 0,void 0,void 0,void 0,void 0,void 0,20)),s(Qe(!1))})).catch((function(e){s(Ke(!0)),s(Qe(!1))}))}}(e,t,a,n,r,c,i,l,d,u,s)),o(ze(""))};Object(n.useEffect)((function(){l&&o($e(l,void 0,void 0,void 0,void 0,void 0,void 0,void 0,20))}),[o]);var m,f=function(e,t,a,n){o(function(e,t,a,n,r,c,i,o,l,d,u,s){return function(m,f){m(Qe(!0)),Ge(e,t,a,n,r,c,i,o,l,d,u,s).then((function(e){m($e(f().cards.cardsPack_id)),m(Qe(!1))})).catch((function(e){m(Ke(!0)),m(Qe(!1))}))}}(e,t,a,n)),o(ze(""))},p=function(e){var t;!Array.isArray(e)&&o((t=e._id,function(e,a){e(Qe(!0)),qe(t).then((function(t){e($e(a().cards.cardsPack_id,void 0,void 0,void 0,void 0,void 0,void 0,void 0,20)),e(Qe(!1))})).catch((function(t){e(Ke(!0)),e(Qe(!1))}))}))},E=t.map((function(e){return{_id:e._id,question:e.question,answer:e.answer,grade:e.grade,updated:e.updated,url:""}}));switch(c){case"add":m=r.a.createElement(Re,{heading:"Add new card",fields:[{title:"Question"},{title:"Answer"}],showModal:!0,isEditFields:!0,packId:a,callback:function(e,t){return d(a,t.Question,t.Answer)}});break;case"delete":m=r.a.createElement(Re,{heading:"Delete card",fields:[{title:"Are you sure?"}],showModal:!0,isEditFields:!1});break;case"error":m=r.a.createElement(Re,{heading:"Error!",fields:[{title:"Error!"}],showModal:!0,isEditFields:!1});break;case"update":m=r.a.createElement(Re,{heading:"Update card",fields:[{title:"Question",value:i.question},{title:"Answer",value:i.answer}],packId:i.id,showModal:!0,isEditFields:!0,callback:function(e,t){return f(e,t.Question,t.Answer)}});break;default:m=""}return r.a.createElement(r.a.Fragment,null,m,r.a.createElement(we.a,{title:"Cards",columns:[{title:"Question",field:"question",type:"string"},{title:"Answer",field:"answer"},{title:"Grade",field:"grade",type:"numeric"},{title:"Updated",field:"updated",type:"numeric"},{title:"Url",field:"url",type:"numeric"}],data:E,actions:[{icon:"add",tooltip:"Add Card",isFreeAction:!0,onClick:function(e){o(ze("add"))}},{icon:"delete",tooltip:"Delete packs",onClick:function(e,t){return p(t)}},{icon:"update",tooltip:"Update packs",onClick:function(e,t){return function(e){var t;Array.isArray(e)||(o(ze("update")),o((t={id:e._id,question:e.question,answer:e.answer},function(e){e(function(e){return{type:"SET_CURRENT_CARD_VALUES",payload:e}}(t))})))}(t)}}],options:{headerStyle:{backgroundColor:"#01579b",color:"#FFF",width:"90%"},actionsColumnIndex:-1}}))},Xe=a(504),Je=a(374),Ye=a.n(Je),et=Object(n.memo)((function(e){var t=Ye.a.container,a=e.defaultValue,c=e.disabled,i=e.max,o=e.min,l=e.orientation,d=e.step,u=e.onChange,s=e.name,m=e.valueLabelDisplay,f=Object(n.useState)(a),p=Object(ye.a)(f,2),E=p[0],b=p[1];return r.a.createElement("div",{className:t},r.a.createElement("p",null,s),r.a.createElement(Xe.a,{value:E,onChange:function(e,t){b(t),u(t)},min:o,max:i,step:d,disabled:c,orientation:l,valueLabelDisplay:m}))})),tt=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,"CardsPage"),r.a.createElement(et,{name:"Cards slider",min:1,max:100,step:1,disabled:!1,defaultValue:[10,20],onChange:function(e){return console.log(e)},valueLabelDisplay:"auto"}),r.a.createElement(We,null))},at=a(375),nt=a.n(at),rt=a(376),ct=a.n(rt),it=a(377),ot=a.n(it),lt=a(99),dt=a.n(lt),ut=r.a.memo((function(e){var t=e.red,a=e.value,n=e.click;return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"delete"===t?"".concat(dt.a.button," ").concat(dt.a.type):dt.a.button,onClick:n,disabled:!1},a))})),st=r.a.memo((function(e){var t=e.onCheck,a=e.card;return r.a.createElement("div",{className:ot.a.frontCardBody},r.a.createElement("h3",null,"Question"),r.a.createElement("div",null,r.a.createElement("p",null,a.question)),r.a.createElement(ut,{value:"\u043f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c",click:t}))})),mt=r.a.memo((function(e){var t=e.red,a=e.value,n=e.click;return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"delete"===t?"".concat(dt.a.button," ").concat(dt.a.type):dt.a.button,onClick:function(){return n(a.value)},disabled:!1},a.title))})),ft=[{value:1,title:"\u043d\u0435 \u0437\u043d\u0430\u043b"},{value:2,title:"\u0437\u0430\u0431\u044b\u043b"},{value:3,title:"\u0434\u043e\u043b\u0433\u043e \u0434\u0443\u043c\u0430\u043b"},{value:4,title:"\u043f\u0435\u0440\u0435\u043f\u0443\u0442\u0430\u043b"},{value:5,title:"\u0437\u043d\u0430\u043b"}],pt=r.a.memo((function(e){var t=e.onNext,a=e.card,n=e.click;return r.a.createElement("div",null,r.a.createElement("h3",null,"Answer"),r.a.createElement("div",null,r.a.createElement("p",null,a.answer)),r.a.createElement("div",null,ft.map((function(e,t){return r.a.createElement(mt,{key:"value-"+t,value:e,click:n})}))),r.a.createElement(ut,{value:"\u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0430\u044f \u043a\u0430\u0440\u0442\u0430",click:t}))})),Et=p.a.create({baseURL:E,withCredentials:!0}),bt=function(e,t){return Et.put("cards/grade",{grade:e,card_id:t}).then((function(e){return e.data.updatedGrade}))},vt={_id:"fake",cardsPack_id:"",answer:"answer fake",question:"question",grade:0,shots:0,type:"",rating:0,more_id:"",created:"",updated:"",user_id:"",comments:"",__v:0},ht=function(e){return function(t){t(function(e){return{type:"selectCard/ADD_NEXT_CARD",card:e}}(e))}},gt=function(e){var t=e.reduce((function(e,t){return e+(6-t.grade)*(6-t.grade)}),0),a=Math.random()*t,n=e.reduce((function(e,t,n){var r=e.sum+(6-t.grade)*(6-t.grade);return{sum:r,id:r<a?n:e.id}}),{sum:0,id:-1});return e[n.id+1]},_t=r.a.memo((function(e){var t=Object(s.d)((function(e){return e.card})),a=Object(s.d)((function(e){return e.cards.cards})),c=Object(s.c)(),i=Object(u.g)().id,o=Object(n.useState)(!1),l=Object(ye.a)(o,2),d=l[0],m=l[1],f=Object(n.useState)(!0),p=Object(ye.a)(f,2),E=p[0],b=p[1];Object(n.useEffect)((function(){return E&&(c($e(i)),b(!1)),a.length>0&&c(ht(gt(a))),function(){console.log("useEffect off")}}),[c,i,a,E]);var v=Object(n.useCallback)((function(){m(!0)}),[d]),h=Object(n.useCallback)((function(){m(!1),a.length>0&&c(ht(gt(a)))}),[a,c]);return r.a.createElement("div",{className:ct.a.cardBody},r.a.createElement("div",null,r.a.createElement(st,{onCheck:v,card:t})),d&&r.a.createElement("div",null,r.a.createElement(pt,{click:function(e){var a=t._id;c(function(e,t){return function(a){bt(e,t).then((function(e){console.log(e),console.log(e.card_id),console.log(e.grade);var t=e.card_id,n=e.grade;a({type:"UPDATE_CARD_GRADE",payload:{id:t,grade:n}})})).catch((function(){return console.log("same error")}))}}(e,a))},onNext:h,card:t})))})),kt=r.a.memo((function(){return r.a.createElement("div",{className:nt.a.cardBody},"LearnPage",r.a.createElement(_t,null))})),Ct="/registration",wt="/recoverPassword",yt="/cards",Ot="/learn",At=function(){return r.a.createElement("div",null,r.a.createElement(u.b,{exact:!0,path:"/",render:function(){return r.a.createElement(F,null)}}),r.a.createElement(u.b,{path:"/login",render:function(){return r.a.createElement(Q,null)}}),r.a.createElement(u.b,{path:Ct,render:function(){return r.a.createElement(ae,null)}}),r.a.createElement(u.b,{path:wt,render:function(){return r.a.createElement(ue,null)}}),r.a.createElement(u.b,{path:"/newPass",render:function(){return r.a.createElement(se,null)}}),r.a.createElement(u.b,{path:"/packs",render:function(){return r.a.createElement(xe,null)}}),r.a.createElement(u.b,{path:yt,render:function(){return r.a.createElement(tt,null)}}),r.a.createElement(u.b,{path:"/learn/:id",render:function(){return r.a.createElement(kt,null)}}))},Pt=function(){var e=Object(s.d)((function(e){return e.auth.isLoggedIn})),t=Object(s.c)(),a=Object(n.useCallback)((function(){t((function(e){e(O("loading")),h().then((function(t){t.data?(e(k(!1)),e(O("succeeded"))):(e(w("error")),e(O("succeeded")))}))}))}),[e]);return r.a.createElement("div",{className:l.a.nav},r.a.createElement("div",{className:l.a.menu},r.a.createElement("div",{className:l.a.button},e&&r.a.createElement(B.a,{variant:"contained",color:"primary",onClick:a},"Log out")),r.a.createElement("div",{className:l.a.item},r.a.createElement(d.b,{exact:!0,to:"/",activeClassName:l.a.activeLick},"Profile")),r.a.createElement("div",{className:l.a.item},r.a.createElement(d.b,{to:"/login",activeClassName:l.a.activeLick},"Login")),r.a.createElement("div",{className:l.a.item},r.a.createElement(d.b,{to:Ct,activeClassName:l.a.activeLick},"Registration")),r.a.createElement("div",{className:l.a.item},r.a.createElement(d.b,{to:wt,activeClassName:l.a.activeLick},"RecoverPassword")),r.a.createElement("div",{className:l.a.item},r.a.createElement(d.b,{to:"/newPass",activeClassName:l.a.activeLick},"NewPass")),r.a.createElement("div",{className:l.a.item},r.a.createElement(d.b,{to:"/packs",activeClassName:l.a.activeLick},"PacksPage")),r.a.createElement("div",{className:l.a.item},r.a.createElement(d.b,{to:yt,activeClassName:l.a.activeLick},"CardsPage")),r.a.createElement("div",{className:l.a.item},r.a.createElement(d.b,{to:Ot,activeClassName:l.a.activeLick},"LearnPage"))))},jt=r.a.memo((function(){return r.a.createElement("div",null,r.a.createElement(Pt,null),r.a.createElement(At,null))})),St=function(e){return r.a.createElement("div",{className:"App"},r.a.createElement("div",null,r.a.createElement(jt,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Tt=a(69),Rt=a(378),Nt=a(214),Ft={},Lt={},It={},Dt=Object(Tt.c)({registration:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REGISTER":return Object(m.a)({},e,{isRegistered:t.isRegistered});case"SET_ERROR":return Object(m.a)({},e,{isError:t.isError});case"SET_FETCHING":return Object(m.a)({},e,{isFetching:t.isFetching});default:return e}},newPassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_NEW_PASSWORD":return Object(Nt.a)({},e);default:return e}},recoverPassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ce:return Object(m.a)({},e,{isAccepted:t.isAccepted});case"recover-password/SET_ERROR":return Object(m.a)({},e,{isError:t.isError});case"recover-password/SET_FETCHING":return Object(m.a)({},e,{isFetching:t.isFetching});default:return e}},login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_IS_LOGGET_IN":return Object(m.a)({},e);default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ft,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PROFILE":return Object(Nt.a)({},e);default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"login/SET_IS_LOGGED_IN":return Object(m.a)({},e,{isLoggedIn:t.value});case"login/SET_USER":return Object(m.a)({},e,{user:Object(m.a)({},t.user)});case"login/SET-ERROR":return Object(m.a)({},e,{error:t.error});default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"APP/SET-STATUS":return Object(m.a)({},e,{status:t.status});case"APP/SET-ERROR":return Object(m.a)({},e,{error:t.error});case"APP/SET-IS-INITIALIZED":return Object(m.a)({},e,{isInitialized:t.isInitialized});default:return e}},cards:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CARDS":return Object(m.a)({},e,{cards:t.cards});case"SET_ERROR":return Object(m.a)({},e,{isError:t.isError});case"SET_FETCHING":return Object(m.a)({},e,{isFetching:t.isFetching});case"ADD_CARD":case"UPDATE_CARD":case"DELETE_CARD":return Object(m.a)({},e);case"SET_CARDS_PACK_ID":return Object(m.a)({},e,{cardsPack_id:t.id});case"SET_MODAL":return Object(m.a)({},e,{currentModal:t.modal});case"SET_CURRENT_CARD_VALUES":return Object(m.a)({},e,{currentCardValues:Object(m.a)({},e.currentCardValues,{},t.payload)});case"UPDATE_CARD_GRADE":return Object(m.a)({},e,{cards:e.cards.map((function(e){return e._id===t.payload.id?Object(m.a)({},e,{grade:t.payload.grade}):Object(m.a)({},e)}))});default:return e}},packs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PACKS":return Object(m.a)({},e,{cardPacks:Object(pe.a)(t.packs)});case"ADD_PACK":return Object(m.a)({},e,{cardPacks:[t.pack].concat(Object(pe.a)(e.cardPacks))});case"DELETE_PACK":return Object(m.a)({},e,{cardPacks:e.cardPacks.filter((function(e){return e._id!==t.id}))});case"UPDATE_PACK":return Object(m.a)({},e,{cardPacks:e.cardPacks.map((function(e){return e._id===t.id?Object(m.a)({},e,{name:t.name}):e}))});case"SET_MODAL":return Object(m.a)({},e,{currentModal:t.modal});case"SET_CURRENT_PACK_VALUES":return Object(m.a)({},e,{currentPackValues:Object(m.a)({},e.currentPackValues,{},t.payload)});default:return e}},card:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"selectCard/ADD_NEXT_CARD":return Object(m.a)({},e,{},t.card);default:return e}}}),xt=Object(Tt.e)(Dt,Object(Tt.a)(Rt.a));window.store=xt,i.a.render(r.a.createElement(d.a,null,r.a.createElement(s.a,{store:xt},r.a.createElement(St,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},99:function(e,t,a){e.exports={button:"Button_button__3CMgV",type:"Button_type__NuwvW"}}},[[388,1,2]]]);
//# sourceMappingURL=main.18f24ab6.chunk.js.map